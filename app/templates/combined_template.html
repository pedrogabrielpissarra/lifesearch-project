<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Combined Exoplanet Comparisons</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; background-color: #f8f9fa; }
        h1 { color: #333; }
        h2 { color: #555; margin-top: 20px; }
        .section { margin-bottom: 20px; }
        table { margin-bottom: 20px; }
        th, td { text-align: left; vertical-align: middle; }
        th.planet-column, td.planet-column { white-space: nowrap; min-width: 120px; }
        .score-value { display: inline-block; width: 100px; text-align: right; margin-right: 5px; white-space: nowrap; font-size: 0.9em;}
        .progress-custom { width: 150px; height: 18px; display: inline-block; background-color: #e9ecef; border-radius: 4px; overflow: hidden; margin-left: 5px;}
        .progress-bar-custom { height: 100%; transition: width 0.5s ease-in-out; font-size: 0.8em; color: white; text-align: center; line-height: 18px;}
        footer { margin-top: 40px; padding-top: 20px; border-top: 1px solid #ddd; font-size: 0.9em; color: #666; text-align: center; }
        footer a { color: #0066cc; text-decoration: none; }
        footer a:hover { text-decoration: underline; }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="mb-4">Combined Exoplanet Comparisons</h1>

        <ul class="nav nav-tabs" id="combinedTabs" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="scores-combined-tab" data-bs-toggle="tab" data-bs-target="#scores-combined" type="button" role="tab" aria-controls="scores-combined" aria-selected="true">Scores</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="details-combined-tab" data-bs-toggle="tab" data-bs-target="#details-combined" type="button" role="tab" aria-controls="details-combined" aria-selected="false">Other Details</button>
            </li>
        </ul>
        <div class="tab-content" id="combinedTabsContent">
            <div class="tab-pane fade show active" id="scores-combined" role="tabpanel" aria-labelledby="scores-combined-tab">
                <!-- Tabela 1: Scores Principais -->
                <div class="section">
                    <h2>Key Scores</h2>
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th scope="col" class="planet-column">Planet</th>
                                <th scope="col">Earth Similarity Index (ESI)</th>
                                <th scope="col">Planetary Habitability Index (PHI)</th>
                                <th scope="col">Standard Primary Habitability (SPH)</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for planet_data in all_planets_data %}
                            <tr>
                                <td class="planet-column">{{ planet_data.planet_name }}</td>
                                <td>
                                    <span class="score-value">{{ "%.2f"|format(planet_data.scores.ESI.score) }}%</span>
                                    <div class="progress-custom">
                                        <div class="progress-bar-custom" style="width: {{ planet_data.scores.ESI.score }}%; background-color: {{ planet_data.scores.ESI.color }};"></div>
                                    </div>
                                </td>
                                <td>
                                    <span class="score-value">{{ "%.2f"|format(planet_data.scores.PHI.score) }}%</span>
                                    <div class="progress-custom">
                                        <div class="progress-bar-custom" style="width: {{ planet_data.scores.PHI.score }}%; background-color: {{ planet_data.scores.PHI.color }};"></div>
                                    </div>
                                </td>
                                <td>
                                    <span class="score-value">{{ "%.2f"|format(planet_data.scores.SPH.score) }}%</span>
                                    <div class="progress-custom">
                                        <div class="progress-bar-custom" style="width: {{ planet_data.scores.SPH.score }}%; background-color: {{ planet_data.scores.SPH.color }};"></div>
                                    </div>
                                </td>                                
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>

                <!-- Tabela 2: Fatores Estelares e Orbitais (Scores) -->
                <div class="section">
                    <h2>Stellar and Orbital Factors (Scores)</h2>
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th scope="col" class="planet-column">Planet</th>
                                <th scope="col">Host Star Type </th>
                                <th scope="col">System Age </th>
                                <th scope="col">Stellar Activity </th>
                                <th scope="col">Orbital Eccentricity </th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for planet_data in all_planets_data %}
                            <tr>
                                <td class="planet-column">{{ planet_data.planet_name }}</td>
                                <td>
                                    <span class="score-value">{{ "%.2f"|format(planet_data.scores.Host_Star_Type.score) }}%</span>
                                    <div class="progress-custom">
                                        <div class="progress-bar-custom" style="width: {{ planet_data.scores.Host_Star_Type.score }}%; background-color: {{ planet_data.scores.Host_Star_Type.color }};"></div>
                                    </div>
                                </td>
                                <td>
                                    <span class="score-value">{{ "%.2f"|format(planet_data.scores.System_Age.score) }}%</span>
                                    <div class="progress-custom">
                                        <div class="progress-bar-custom" style="width: {{ planet_data.scores.System_Age.score }}%; background-color: {{ planet_data.scores.System_Age.color }};"></div>
                                    </div>
                                </td>
                                <td>
                                    <span class="score-value">{{ "%.2f"|format(planet_data.scores.Stellar_Activity.score) }}%</span>
                                    <div class="progress-custom">
                                        <div class="progress-bar-custom" style="width: {{ planet_data.scores.Stellar_Activity.score }}%; background-color: {{ planet_data.scores.Stellar_Activity.color }};"></div>
                                    </div>
                                </td>
                                <td>
                                    <span class="score-value">{{ "%.2f"|format(planet_data.scores.Orbital_Eccentricity.score) }}%</span>
                                    <div class="progress-custom">
                                        <div class="progress-bar-custom" style="width: {{ planet_data.scores.Orbital_Eccentricity.score }}%; background-color: {{ planet_data.scores.Orbital_Eccentricity.color }};"></div>
                                    </div>
                                </td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>

                <!-- Tabela 3: Atmosfera e Luas (Scores) -->
                <div class="section">
                    <h2>Atmosphere and Moons (Scores)</h2>
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th scope="col" class="planet-column">Planet</th>
                                <th scope="col">Atmosphere Potential </th>
                                <th scope="col">Liquid Water Potential </th>
                                <th scope="col">Magnetic Activity </th>
                                <th scope="col">Presence of Moons </th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for planet_data in all_planets_data %}
                            <tr>
                                <td class="planet-column">{{ planet_data.planet_name }}</td>
                                <td>
                                    <span class="score-value">{{ "%.2f"|format(planet_data.scores.Atmosphere_Potential.score) }}%</span>
                                    <div class="progress-custom">
                                        <div class="progress-bar-custom" style="width: {{ planet_data.scores.Atmosphere_Potential.score }}%; background-color: {{ planet_data.scores.Atmosphere_Potential.color }};"></div>
                                    </div>
                                </td>
                                <td>
                                    <span class="score-value">{{ "%.2f"|format(planet_data.scores.Liquid_Water_Potential.score) }}%</span>
                                    <div class="progress-custom">
                                        <div class="progress-bar-custom" style="width: {{ planet_data.scores.Liquid_Water_Potential.score }}%; background-color: {{ planet_data.scores.Liquid_Water_Potential.color }};"></div>
                                    </div>
                                </td>
                                <td>
                                    <span class="score-value">{{ "%.2f"|format(planet_data.scores.Magnetic_Activity.score) }}%</span>
                                    <div class="progress-custom">
                                        <div class="progress-bar-custom" style="width: {{ planet_data.scores.Magnetic_Activity.score }}%; background-color: {{ planet_data.scores.Magnetic_Activity.color }};"></div>
                                    </div>
                                </td>
                                <td>
                                    <span class="score-value">{{ "%.2f"|format(planet_data.scores.Presence_of_Moons.score) }}%</span>
                                    <div class="progress-custom">
                                        <div class="progress-bar-custom" style="width: {{ planet_data.scores.Presence_of_Moons.score }}%; background-color: {{ planet_data.scores.Presence_of_Moons.color }};"></div>
                                    </div>
                                </td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>

                <!-- Tabela 4: Propriedades Físicas e Zona Habitável (Scores) -->
                <div class="section">
                    <h2>Physical Properties and Habitable Zone (Scores)</h2>
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th scope="col" class="planet-column">Planet</th>
                                <th scope="col">Habitable Zone Position </th>
                                <th scope="col">Size </th>
                                <th scope="col">Density </th>
                                <th scope="col">Mass </th>
                                <th scope="col">Star Metallicity </th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for planet_data in all_planets_data %}
                            <tr>
                                <td class="planet-column">{{ planet_data.planet_name }}</td>
                                <td>
                                    <span class="score-value">{{ "%.2f"|format(planet_data.scores.Habitable_Zone_Position.score) }}%</span>
                                    <div class="progress-custom">
                                        <div class="progress-bar-custom" style="width: {{ planet_data.scores.Habitable_Zone_Position.score }}%; background-color: {{ planet_data.scores.Habitable_Zone_Position.color }};"></div>
                                    </div>
                                </td>
                                <td>
                                    <span class="score-value">{{ "%.2f"|format(planet_data.scores.Size.score) }}%</span>
                                    <div class="progress-custom">
                                        <div class="progress-bar-custom" style="width: {{ planet_data.scores.Size.score }}%; background-color: {{ planet_data.scores.Size.color }};"></div>
                                    </div>
                                </td>
                                <td>
                                    <span class="score-value">{{ "%.2f"|format(planet_data.scores.Density.score) }}%</span>
                                    <div class="progress-custom">
                                        <div class="progress-bar-custom" style="width: {{ planet_data.scores.Density.score }}%; background-color: {{ planet_data.scores.Density.color }};"></div>
                                    </div>
                                </td>
                                <td>
                                    <span class="score-value">{{ "%.2f"|format(planet_data.scores.Mass.score) }}%</span>
                                    <div class="progress-custom">
                                        <div class="progress-bar-custom" style="width: {{ planet_data.scores.Mass.score }}%; background-color: {{ planet_data.scores.Mass.color }};"></div>
                                    </div>
                                </td>
                                <td>
                                    <span class="score-value">{{ "%.2f"|format(planet_data.scores.Star_Metallicity.score) }}%</span>
                                    <div class="progress-custom">
                                        <div class="progress-bar-custom" style="width: {{ planet_data.scores.Star_Metallicity.score }}%; background-color: {{ planet_data.scores.Star_Metallicity.color }};"></div>
                                    </div>
                                </td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>

                <!-- Seção SEPHI Scores -->
                <div class="section">
                    <h3>SEPHI Scores</h3>
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th scope="col" class="planet-column">Planet</th>
                                <th scope="col">SEPHI</th>
                                <th scope="col">SEPHI L1 (Surface)</th>
                                <th scope="col">SEPHI L2 (Escape Vel.)</th>
                                <th scope="col">SEPHI L3 (HZ)</th>
                                <th scope="col">SEPHI L4 (Mag. Field)</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for planet_data in all_planets_data %}
                            <tr>
                                <td class="planet-column">{{ planet_data.planet_name }}</td>
                                <td>
                                    <span class="score-value">{{ "%.2f"|format(planet_data.sephi_scores.SEPHI.score) }}%</span>
                                    <div class="progress-custom">
                                        <div class="progress-bar-custom" style="width: {{ planet_data.sephi_scores.SEPHI.score }}%; background-color: {{ planet_data.sephi_scores.SEPHI.color }};"></div>
                                    </div>
                                </td>
                                <td>
                                    <span class="score-value">{{ "%.2f"|format(planet_data.sephi_scores.SEPHI_L1.score) }}%</span>
                                    <div class="progress-custom">
                                        <div class="progress-bar-custom" style="width: {{ planet_data.sephi_scores.SEPHI_L1.score }}%; background-color: {{ planet_data.sephi_scores.SEPHI_L1.color }};"></div>
                                    </div>
                                </td>
                                <td>
                                    <span class="score-value">{{ "%.2f"|format(planet_data.sephi_scores.SEPHI_L2.score) }}%</span>
                                    <div class="progress-custom">
                                        <div class="progress-bar-custom" style="width: {{ planet_data.sephi_scores.SEPHI_L2.score }}%; background-color: {{ planet_data.sephi_scores.SEPHI_L2.color }};"></div>
                                    </div>
                                </td>
                                <td>
                                    <span class="score-value">{{ "%.2f"|format(planet_data.sephi_scores.SEPHI_L3.score) }}%</span>
                                    <div class="progress-custom">
                                        <div class="progress-bar-custom" style="width: {{ planet_data.sephi_scores.SEPHI_L3.score }}%; background-color: {{ planet_data.sephi_scores.SEPHI_L3.color }};"></div>
                                    </div>
                                </td>
                                <td>
                                    <span class="score-value">{{ "%.2f"|format(planet_data.sephi_scores.SEPHI_L4.score) }}%</span>
                                    <div class="progress-custom">
                                        <div class="progress-bar-custom" style="width: {{ planet_data.sephi_scores.SEPHI_L4.score }}%; background-color: {{ planet_data.sephi_scores.SEPHI_L4.color }};"></div>
                                    </div>
                                </td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div> <!-- End of scores-combined tab-pane -->

            <div class="tab-pane fade" id="details-combined" role="tabpanel" aria-labelledby="details-combined-tab">
                <!-- Tabela 1: General Information -->
                <div class="section">
                    <h2>General Information</h2>
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th scope="col" class="planet-column">Planet</th>
                                <th scope="col">Classification</th>
                                <th scope="col">Star Type</th>
                                <th scope="col">Distance (ly)</th>
                                <th scope="col">Equilibrium Temp. (K)</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for planet_data in all_planets_data %}
                            <tr>
                                <td class="planet-column">{{ planet_data.planet_name }}</td>
                                <td>{{ planet_data.classification | default("N/A") }}</td>
                                <td>{{ planet_data.star_type | default("N/A") }}</td>
                                <td>{{ planet_data.distance_light_years | default("N/A") }}</td>
                                <td>{{ planet_data.equilibrium_temp_k | default("N/A") }}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>

                <!-- Tabela 2: Physical Characteristics -->
                <div class="section">
                    <h2>Physical Characteristics</h2>
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th scope="col" class="planet-column">Planet</th>
                                <th scope="col">Radius (R⊕)</th>
                                <th scope="col">Mass (M⊕)</th>
                                <th scope="col">Density (g/cm³)</th>
                                <th scope="col">Surface Gravity (g)</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for planet_data in all_planets_data %}
                            <tr>
                                <td class="planet-column">{{ planet_data.planet_name }}</td>
                                <td>{{ planet_data.planet_radius_earth | default("N/A") }}</td>
                                <td>{{ planet_data.planet_mass_earth | default("N/A") }}</td>
                                <td>{{ planet_data.planet_density_gcm3 | default("N/A") }}</td>
                                <td>{{ planet_data.surface_gravity_g | default("N/A") }}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>

                <!-- Tabela 3: Orbital Characteristics -->
                <div class="section">
                    <h2>Orbital Characteristics</h2>
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th scope="col" class="planet-column">Planet</th>
                                <th scope="col">Orbital Period (days)</th>
                                <th scope="col">Semi-Major Axis (AU)</th>
                                <th scope="col">Eccentricity</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for planet_data in all_planets_data %}
                            <tr>
                                <td class="planet-column">{{ planet_data.planet_name }}</td>
                                <td>{{ planet_data.orbital_period_days | default("N/A") }}</td>
                                <td>{{ planet_data.semi_major_axis_au | default("N/A") }}</td>
                                <td>{{ planet_data.eccentricity | default("N/A") }}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>

                <!-- Tabela 4: Travel Curiosities -->
                <div class="section">
                    <h2>Travel Curiosities</h2>
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th scope="col" class="planet-column">Planet</th>
                                <th scope="col">Distance (ly)</th>
                                <th scope="col">Current Tech (e.g., Parker Probe ~170 km/s)</th>
                                <th scope="col">Future Tech (20% speed of light)</th>
                                <th scope="col">Relativistic (99% speed of light)</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for planet_data in all_planets_data %}
                            <tr>
                                <td class="planet-column">{{ planet_data.planet_name }}</td>
                                <td>{{ planet_data.travel_curiosities.distance_ly | default("N/A") }}</td>
                                <td>{{ planet_data.travel_curiosities.current_tech_years | default("N/A") }}</td>
                                <td>{{ planet_data.travel_curiosities.twenty_ls_years | default("N/A") }}</td>
                                <td>{{ planet_data.travel_curiosities.near_ls_years | default("N/A") }}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
                
                <!-- Tabela 5: Habitability Descriptions -->
                <div class="section">
                    <h2>Habitability Descriptions</h2>
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th scope="col" class="planet-column">Planet</th>
                                <th scope="col">Habitable Zone Description</th>
                                <th scope="col">Atmosphere Potential</th>
                                <th scope="col">Liquid Water Potential</th>
                                <th scope="col">Magnetic Activity</th>
                                <th scope="col">Presence of Moons</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for planet_data in all_planets_data %}
                            <tr>
                                <td class="planet-column">{{ planet_data.planet_name }}</td>
                                <td>{{ planet_data.habitable_zone_description | default("N/A") }}</td>
                                <td>{{ planet_data.atmosphere_potential_desc | default("N/A") }}</td>
                                <td>{{ planet_data.liquid_water_potential_desc | default("N/A") }}</td>
                                <td>{{ planet_data.magnetic_activity_desc | default("N/A") }}</td>
                                <td>{{ planet_data.presence_of_moons_desc | default("N/A") }}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>

            </div> <!-- End of details-combined tab-pane -->
        </div> <!-- End of tab-content -->

     <footer>
            <p>Data obtained from:</p>
            <p>
                <a href="https://exoplanetarchive.ipac.caltech.edu/index.html" target="_blank">NASA Exoplanet Archive</a> |
                <a href="https://phl.upr.edu/hwc/data" target="_blank">PHL Habitable Worlds Catalog</a> |
                <a href="http://www.hzgallery.org/table.html" target="_blank">HZGallery</a>|
                <a href="https://academic.oup.com/mnras/article/471/4/4628/4096396" target="_blank">MNRAS HZ Exoplanet Catalog</a>  |
                <a href="http://exoplanetes.esep.pro/index.php/home-fr/table-des-exoplanetes-fr" target="_blank">ESEP Exoplanet Table</a>
            </p>
            <p> {{ datetime.now().strftime("%Y-%m-%d %H:%M:%S") }} by LifeSearch. &copy; {{ current_year }}  All rights reserved.</p>
        </footer>
    </div>
</body>
</html>

